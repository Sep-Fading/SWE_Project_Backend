## How to use the repository:

 - For any of the steps if you google how to do them you should get your answer, if you're unsure.

 - Obviously keep your code neat and well commented so people know what everything does and what your variables mean.

 - Give your variables, methods, css classes etc meaningful names.

### Use your own branches:
 - After cloning the files to your local device, make sure you are on your own branch and not main/master/someone else's branch. VERY IMPORTANT!

 - You can create and switch to a branch using terminal.

### Naming your branches:
 - You may want to make different branches for things you may want to test, in that case follow this naming convention:

 - YOURNAME_TITLE_VERSION

 - For example, sepehr_logintest_1

### Updating your work:

 - Commit and push your changes to your branch often and be descriptive in the description, to let others know what exactly changed and what was added or removed.

 - The master branch is protected and will need majority to approve the merge, so keep in touch regularly to communicate completed tasks.


### Installing Django on your local repo:

- Check that you have python installed using `python3 --version`.
- To work with django you need to create a dedicated folder on your local device.
- Once in said folder, you will need to create a virtual environment with `python3 -m venv NAME`, e.g. `python3 -m venv myenv`.
- This virtual environment should be activated before working with Django.
- To activate, on Unix Shells use `source /myenv/bin/activate`.
- Then, install Django using `pip install Django`.
- Verify the installation of Django using `django-admin --version`.
- You can now clone the repository in the same folder you previously created.
- If you use any dependencies, they should be in `requirements.txt` which is autogenerated, however keep a note of them just in case.
- To install dependencies from an existing `requirements.txt`, run `pip install -r requirements.txt`.
- Navigate into the Django project directory and run `python3 manage.py runserver`.
- This should start a local server for you accessible via `http://localhost:8000` on your web browser.

### Some troubleshooting notes (Sepehr):

- Check that you have the following dependencies installed:

Django REST API Framework - `pip install djangorestframework`

- Check that the dependencies are included in your settings.py:

These should be added under the list of `INSTALLED_APPS`.

`rest_framework`

You will also need to install CORS as a middleware:

- `pip install django-cors-headers`
- Then configure settings.py by adding `corsheaders` to `INSTALLED_APPS` and 
`corseheaders.middleware.CorsMiddleware` to the top of `MIDDLEWARE`.

You can then configure CORS to respond to your locally hosted react server
by adding this to your settings.py:

```py
CORS_ALLOWED_ORIGINS = [
        'http://localhost:3000' # The default react port for local host.
]
```

### Authentication:

For authentication when it comes to user logins, we are going to use SimpleJWT from the django rest framework.

Install this using : `pip install djangorestframework-simplejwt`.

As per usual, we need to configure settings.py to accomodate our new dependency.

 - Adding JWTAuthentication to DEFAULT_AUTHENTICATION_CLASSES:
 ```py
    REST_FRAMEWORK = {
        'DEFAULT_AUTHENTICATION_CLASSES': (
            'rest_framework_simplejwt.authentication.JWTAuthentication',
        ),
    }
 ```
 - You need to then configure the urls.py by adding the following:
 ```py
    from django.urls import path
    from rest_framework_simplejwt.views import TokenObtainPairView, TokenRefreshView

    urlpatterns = [
        # Your other URL patterns
        path('api/token/', TokenObtainPairView.as_view(), name='token_obtain_pair'),
        path('api/token/refresh/', TokenRefreshView.as_view(), name='token_refresh'),
    ]

 ```

#### Testing:
- You can create your own superuser account to access backend database like so:

- `python manage.py createsuperuser` which will let you create an account.

- You can access the admin panel under localhost:8000/admin, in case port 8000 is occupied on your local device you should get a link in terminal giving you the right address when you run the project using `python manage.py runserver`

- If `python` isn't recognised in your terminal, try `python3`.

### API Testing:

Try the API by adding and running this from the front end:

```js

// This is simply a js code for testing purposes, implementation
// of it in React requires the use of States and useEffect functions
// similar to how it was done with the Weather app project from GUI.
// replace accountmodel with whatever model you want to access.
fetch('http://localhost:8000/api/accountmodel/')
    .then(response => response.json())
    .then(data => console.log(data));

```

This should generate a JSON in console log accessible via Inspect Element on the browser.


